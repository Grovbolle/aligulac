(function(){if(!this.require){var t={},n={},e=function(o,a){var c,u=r(a,o),l=n[u];if(l)return l.exports;if(!(c=t[u]||t[u=r(u,"./index")]))throw"module '"+o+"' not found";l={id:u,exports:{}};try{return n[u]=l,c(l.exports,function(t){return e(t,i(u))},l),l.exports}catch(s){throw delete n[u],s}},r=function(t,n){var e,r,i=[];e=/^\.\.?(\/|$)/.test(n)?[t,n].join("/").split("/"):n.split("/");for(var o=0,a=e.length;a>o;o++)r=e[o],".."==r?i.pop():"."!=r&&""!=r&&i.push(r);return i.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")};this.require=function(t){return e(t,"")},this.require.define=function(n){for(var e in n)t[e]=n[e]}}return this.require.define}).call(this)({aligulac:function(t,n){(function(){var e,r=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};t.Aligulac=e={init:function(){var t,e,r,i;return t=n("auto_complete").AutoComplete,e=n("common").Common,r=n("genshort").GenShort,i=n("menu").Menu,i.init(),t.init(),e.init(),r.init()},init_extra:function(t){var e,i,o,a;return a=t.split(" "),r.call(a,"eventmgr")>=0&&(i=n("eventmgr").EventMgr,i.init()),r.call(a,"eventres")>=0&&(o=n("eventres").EventRes,o.init()),r.call(a,"clocks")>=0?(e=n("clocks").Clocks,e.init()):void 0}}}).call(this)},auto_complete:function(t){(function(){var n,e,r,i,o,a,c;e=function(t){var n,e,r,i;if("--"===t.type)return t.key="-","<a>BYE</a>";if(null==t.tag&&null==t.name&&null==t.fullname)return"<span class='autocomp-header'>"+autocomp_strings[t.label]+"</span>";switch(t.type){case"player":return t.key=t.tag+" "+t.id,i=null!=t.teams&&t.teams.length>0?"<span class='autocomp-team pull-right'>"+t.teams[0][0]+"</span>":"",n=null!=t.country?"<img src='"+(flags_dir+t.country.toLowerCase())+".png' />":"",r="<img src='"+(races_dir+t.race.toUpperCase())+".png' />",e="<span>"+t.tag+"</span>","<a>"+n+r+e+i+"</a>";case"team":return t.key=t.name,"<a>"+t.name+"</a>";case"event":return t.key=t.fullname,"<a>"+t.fullname+"</a>"}return"<a>"+t.value+"</a>"},r=function(t,n){var e,r;return null==n?n=["players","teams","events"]:"string"==typeof n&&(n=[n]),e=$.Deferred(),r="/search/json/",$.ajax({type:"GET",url:r,dataType:"json",data:{q:t,search_for:n.join(",")}}).success(function(t){return e.resolve(t)}),e},c=function(){return $("#search_box").autocomplete({source:function(t,n){return $.when(r(t.term)).then(function(t){var e,r,i,o;return i=function(t,n,e){var r,i,o;if(null==t||0===t.length)return[];for(i=0,o=t.length;o>i;i++)r=t[i],r.type=n;return[{label:e}].concat(t)},r=i(t.players,"player","Players"),o=i(t.teams,"team","Teams"),e=i(t.events,"event","Events"),n(r.concat(o.concat(e)))})},minLength:2,select:function(t,n){return $("#search_box").val(n.item.key).closest("form").submit(),!1},open:function(){return $(".ui-menu").width("auto")}}).data("ui-autocomplete")._renderItem=function(t,n){return $("<li></li>").append(e(n)).appendTo(t)}},i=function(){try{return $(".event-ac").autocomplete({source:function(t,n){return $.when(r(t.term,"events")).then(function(t){var e,r,i,o;if(null==t||null==t.events||0===t.events.length)return[];for(o=t.events,r=0,i=o.length;i>r;r++)e=o[r],e.type="event";return n(t.events)})},minLength:2,select:function(t,n){return $(".event-ac").val(n.item.key),!1},open:function(){return $(".ui-menu").width("auto")}}).data("ui-autocomplete")._renderItem=function(t,n){return $("<li></li>").append(e(n)).appendTo(t)}}catch(t){}},a=function(){var t;return t=$("#id_players"),t.tagsInput({autocomplete_opt:{minLength:2,select:function(n,e){return t.addTag(e.item.key),$("#id_players_tag").focus(),!1},open:function(){return $(".ui-menu").width("auto")}},autocomplete_url:function(t,n){return $.when(r(t.term,"players")).then(function(e){var r,i,o,a;if(null!=e.players){for(a=e.players,i=0,o=a.length;o>i;i++)r=a[i],r.type="player";return!global_player_autocomplete_allow_byes||"bye"!==t.term&&"--"!==t.term||(e.players=[{type:"--"}].concat(e.players)),n(e.players)}})},defaultText:autocomp_strings.Players,placeholderColor:"#9e9e9e",delimiter:"\n",width:"100%",formatAutocomplete:e}),$("#id_players_addTag").keydown(function(t){return 13===t.which&&""===$("#id_players_tag").val()?$(this).closest("form").submit():void 0})},o=function(){return $("input#id_players_tag").focus(function(){return $(this).parent().parent().css("box-shadow","inset 0 1px 1px rgba(0,0,0,.075), 0 0 4px rgba(0,0,0,.4)").css("-webkit-box-shadow","inset 0 1px 1px rgba(0,0,0,.075), 0 0 4px rgba(0,0,0,.4)").css("border-color","#000000")}).focusout(function(){return $(this).parent().parent().css("box-shadow","inset 0 1px 1px rgba(0,0,0,.075)").css("-webkit-box-shadow","inset 0 1px 1px rgba(0,0,0,.075)").css("border-color","#cccccc")})},t.AutoComplete=n={init:function(){return c(),i(),a(),o()}}}).call(this)},clocks:function(t,n,e){(function(){var t,n;n=function(t){return $(t).next().toggle(),$(t).find(".clock-toggle").toggleClass("right-caret").toggleClass("down-caret")},e.exports.Clocks=t={init:function(){return $(".clock-expandable").click(function(){return n(this)})}}}).call(this)},common:function(t,n,e){(function(){var t,n,r,i,o,a,c;o=function(t){return $(".lm[data-id="+t+"]").toggle(),$(".lma[data-id="+t+"]").html($(".lma[data-id="+t+"]").html()===autocomp_strings.hide?autocomp_strings.show:autocomp_strings.hide),!1},i=function(t){return $("#fix"+t).toggle(),$("#inp"+t).toggle(),$("#"+t+"_1").focus(),!1},n=function(){return $('input[name|="match"]').prop("checked",!0),!1},a=function(){return $('input[name|="match"]').prop("checked",!1),!1},r=function(t){return $("input[data-match="+t+"]").prop("checked",!0),!1},c=function(t){return $("input[data-match="+t+"]").prop("checked",!1),!1},e.exports.Common=t={init:function(){return $(".lma").click(function(){return o($(this).data("id"))}),$(".lmp").click(function(){return i($(this).data("id"))}),$(".check-boxes-btn").click(function(){return r($(this).data("match"))}),$(".uncheck-boxes-btn").click(function(){return c($(this).data("match"))}),$(".check-all-btn").click(n),$(".uncheck-all-btn").click(a)}}}).call(this)},eventmgr:function(t,n,e){(function(){var t,n;n=function(t,n,e){return $("#parent_id_field").val(t),$("#id_type").val(function(){switch(e){case"round":return"round";case"event":return"round";case"category":return"category"}}()),$("#parent_name").html(n),$("#md-eventmgr").modal()},e.exports.EventMgr=t={init:function(){return $(".tree-toggle").click(function(){return $(this).parent().parent().next(".subtree").toggle(100),!1}),$("#root_btn").click(function(){return $("input[id=parent_id_field]").val("-1"),$("#parent_name").html("Root (N/A)"),$("#md-eventmgr").modal(),!1}),$("#showguide").click(function(){return $("#guide").collapse(),$("#showguide").toggle()}),$(".event-modify-button").click(function(){var t,e,r;return e=$(this).data("event-fullname"),t=$(this).data("event-id"),r=$(this).data("event-type"),n(t,e,r)}),$("#id_predef_names").change(function(){return $("#id_predef_names").prop("selectedIndex")>0?($("#id_custom_names").val(""),$("#id_type").val("round")):void 0}),$("#id_custom_names").keypress(function(){return""!==$("#id_custom_names").val()?$("#id_predef_names").prop("selectedIndex",0):void 0})}}}).call(this)},eventres:function(t,n,e){(function(){var t,n;n=function(t){return $("[data-placement="+t+"]").toggle(),!1},e.exports.EventRes=t={init:function(){return $(".pp_showbtn").click(function(){return n($(this).data("placement"))})}}}).call(this)},genshort:function(t,n,e){(function(){var t,n;n=function(t){return $.get("/m/new/?url="+encodeURIComponent(t),function(t){return $("#gen_short").hide(),$("#disp_short").html('<a href="/m/'+t+'/">/m/'+t+"</a>"),$("#disp_short").show()})},e.exports.GenShort=t={init:function(){return $("#gen_short").click(function(){return n(location.href)})}}}).call(this)},menu:function(t,n,e){(function(){var t,n,r;n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i,r=function(){return n.test(navigator.userAgent)||$(window).width()<=768?$("a.dropdown-toggle").off("click"):$("a.dropdown-toggle").on("click",function(){return window.location.href=this.href})},e.exports.Menu=t={init:function(){return $(document).ready(r),$(window).resize(r)}}}).call(this)}});